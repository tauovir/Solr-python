{% extends 'layout.html' %}
{% load static %}

{% block mainBody%}


 

<div class="card-body">
  <div class="card card-secondary">
  
  </div>
  <div class="card card-secondary">
  <div class="card-header">
    <h3 class="card-title">Row Data</h3>
  </div>
  </div>
  <table id="example1" class="table table-bordered table-hover">
    <thead>
    <tr>
      <!-- <th>ID</th> -->
      <th>Name</th>
      <th>Sex</th>
      <th>Age</th>
      <th>Fare</th>
      <th>Embark</th>
      <th>Cabin</th>
     
    </tr>
    </thead>
    <tbody>
      {% for row in titanicData %}
      <tr>
        <!-- <th scope="row">{{row.id}}</th> -->
        <th scope="row">{{row.name}}</th>
        <td>{{row.sex}}</td>
        <td>{{row.age}}</td>
        <td>{{row.fare}}</td>
        <td>{{row.embarked}}</td>
        <td>{{row.cabin}}</td>
        
      </tr>
      {% endfor %}
  </table>

  <div class="card card-secondary">
    <div class="card-header">
      <h3 class="card-title">Retail Data</h3>
    </div>
    </div>
  <table id="example2" class="table table-bordered table-hover">
    <thead>
    <tr>
      <!-- <th>ID</th> -->
      <th>InvoiceNo</th>
      <th>StockCode</th>
      <th>Description</th>
      <th>Quantity</th>
      <th>InvoiceDate</th>
      <th>UnitPrice</th>
      <th>CustomerID</th>
      <th>Country</th>
      <th>Trash</th>
    </tr>
    </thead>
    <tbody>
      {% for row in retailData %}
      <tr>
        <!-- <th scope="row">{{row.id}}</th> -->
        <th scope="row">{{row.InvoiceNo}}</th>
        <td>{{row.StockCode}}</td>
        <td>{{row.Description}}</td>
        <td>{{row.Quantity}}</td>
        <td>{{row.InvoiceDate}}</td>
        <td>{{row.UnitPrice}}</td>
        <td>{{row.CustomerID}}</td>
        <td>{{row.Country}}</td>
        <td><a href= {% url 'delete' row.id %}>
          Delete
        </a></td>
        
      </tr>
      {% endfor %}
  </table>
</div>


{% endblock %}

{% block jsScript%}
<script src="{% static  "plugins/datatables/jquery.dataTables.js" %}"></script>
<script src="{% static  "plugins/datatables-bs4/js/dataTables.bootstrap4.js" %}"></script>
<script>

  $(function () {
    
    $('#example2').DataTable({
      "paging": true,
      "lengthChange": false,
      "searching": false,
      "ordering": true,
      "info": true,
      "autoWidth": false,
      "pageLength": 20
    });
    $('#example1').DataTable({
      "paging": true,
      "lengthChange": false,
      "searching": false,
      "ordering": false,
      "info": true,
      "autoWidth": false,
      "pageLength": 20
    });
    

    $('input[type=radio]').on('change', function() {
    $(this).closest("form").submit();
});

  });
  
 
</script>

{% endblock %}
